<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HorizonWX</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

</head>
<body>

    <center>

    

    <div class="nav">
        <input id="search" placeholder="search for a location">
        <div class="vulcan"></div>
        <div id="button"> <i class="fas fa-search"></i></div>

    </div>


    <div class="card">
        <div id="temp"><i class="fa-solid fa-cloud"></i></div>
        <div class="city">
            <div class="cityname"></div>
            <div id="des"></div>
            
        </div>

        <div class="extra">

            <div class="art-title"></div>
             <div class="all-summary"><p></p></div> 

        </div>
    </div>

   
  
 
    
<div class="footer">
    <a href="https://open-meteo.com/en/docs" target="_blank">API Credits</a>

    <div class="horixon-ajax"></div>

    <a href="https://open-meteo.com" target="_blank">Data credits</a>

    <div class="horixon-ajax"></div>

    <a href="https://miojoester.github.io/TaskStalker/" target="_blank" id="icon-a"><i class="fa-solid fa-address-card"></i></a>

    <div class="horixon-ajax"></div>

    <a href="https://github.com/MioJoester" target="_blank" id="icon-a"><i class="fab fa-github"></i></a>

    
    <div class="horixon-ajax"></div>

    <a href="https://discord.com/users/1274662028820217911" target="_blank" id="icon-a"><i class="fab fa-discord"></i></a>

    
    <div class="horixon-ajax"></div>

    <button id="icon-c"><i class="fas fa-chain"></i></button>
</div>
</center>




   
    
</body>

<script>

    
    

document.addEventListener("DOMContentLoaded", () => {
    fetch(`https://api.open-meteo.com/v1/forecast?latitude=40.7128&longitude=-74.0060&current_weather=true`)
        .then(response => response.json()) // Convert response to JSON
        .then(data => {
            console.log("Default NYC Weather Data:", data);
            
            const temperature = data.current_weather.temperature;
            const weatherCode = data.current_weather.weathercode; // Fix: should match API key

            // Update UI elements
            document.getElementById("des").innerHTML = `${temperature}Â°C`;  
            document.querySelector(".all-summary").innerHTML = 
                `According to Open-Meteo, the weather in <strong>New York City</strong> will be around<strong>   ${temperature}Â°C  </strong>.`;

            const iconClass = getWeatherIcon(weatherCode, temperature);
            document.getElementById("temp").innerHTML = `<i class="${iconClass}"></i>`;
        })
        .catch(error => console.error("Error fetching default weather data:", error));
});

alert ("By default it will show weather of New York city, you can search your desired location from searchbar")

const cityCoordinates = {
   "New York": { lat: 40.7128, lon: -74.0060 },
    "Los Angeles": { lat: 34.0522, lon: -118.2437 },
    "Chicago": { lat: 41.8781, lon: -87.6298 },
    "Houston": { lat: 29.7604, lon: -95.3698 },
    "London": { lat: 51.5074, lon: -0.1278 },
    "Paris": { lat: 48.8566, lon: 2.3522 },
    "Berlin": { lat: 52.5200, lon: 13.4050 },
    "Madrid": { lat: 40.4168, lon: -3.7038 },
    "Rome": { lat: 41.9028, lon: 12.4964 },
    "Tokyo": { lat: 35.6895, lon: 139.6917 },
    "Seoul": { lat: 37.5665, lon: 126.9780 },
    "Shanghai": { lat: 31.2304, lon: 121.4737 },
    "Beijing": { lat: 39.9042, lon: 116.4074 },
    "Sydney": { lat: -33.8688, lon: 151.2093 },
    "Toronto": { lat: 43.651070, lon: -79.347015 },
    "Dubai": { lat: 25.276987, lon: 55.296249 },
    "Moscow": { lat: 55.7558, lon: 37.6173 },
    "Mumbai": { lat: 19.0760, lon: 72.8777 },
    "Delhi": { lat: 28.6139, lon: 77.2090 },
    "Singapore": { lat: 1.3521, lon: 103.8198 },
    "Bangkok": { lat: 13.7563, lon: 100.5018 },
    "Istanbul": { lat: 41.0082, lon: 28.9784 },
    "Mexico City": { lat: 19.4326, lon: -99.1332 },
    "Buenos Aires": { lat: -34.6037, lon: -58.3816 },
    "Cairo": { lat: 30.0444, lon: 31.2357 },
    "Cape Town": { lat: -33.9249, lon: 18.4241 },
    "Wellington": {lat: -41.2865, lon: 174.7762},
    // Major cities in India
    "Bangalore": { lat: 12.9716, lon: 77.5946 },
    "Chennai": { lat: 13.0827, lon: 80.2707 },
    "Kolkata": { lat: 22.5726, lon: 88.3639 },
    "Hyderabad": { lat: 17.3850, lon: 78.4867 },
    "Pune": { lat: 18.5204, lon: 73.8567 },
    "Ahmedabad": { lat: 23.0225, lon: 72.5714 },
    "Jaipur": { lat: 26.9124, lon: 75.7873 },
    "Lucknow": { lat: 26.8467, lon: 80.9462 },
    // Major cities in China
    "Beijing": { lat: 39.9042, lon: 116.4074 },
    "Shanghai": { lat: 31.2304, lon: 121.4737 },
    "Guangzhou": { lat: 23.1291, lon: 113.2644 },
    "Shenzhen": { lat: 22.5431, lon: 114.0579 },
    "Chengdu": { lat: 30.5728, lon: 104.0668 },
    "Wuhan": { lat: 30.5928, lon: 114.3055 },
    "Chongqing": { lat: 29.4316, lon: 106.9123 },
    "Tianjin": { lat: 39.3434, lon: 117.3616 },
    "Nanjing": { lat: 32.0603, lon: 118.7969 },
    "Hangzhou": { lat: 30.2741, lon: 120.1551 },
    //Major cities in Gujarat
    "Surat": { lat: 21.1702, lon: 72.8311 },
    "Vadodara": { lat: 22.3072, lon: 73.1812 },
    "Rajkot": { lat: 22.3039, lon: 70.8022 },
    "Bhavnagar": { lat: 21.7645, lon: 72.1519 },
    "Jamnagar": { lat: 22.4707, lon: 70.0577 },
    "Gandhinagar": { lat: 23.2156, lon: 72.6369 },
    "Junagadh": { lat: 21.5222, lon: 70.4579 },
    "Anand": { lat: 22.5645, lon: 72.9289 },
    "Bharuch": { lat: 21.7051, lon: 72.9959 },
    "Mehsana": { lat: 23.5879, lon: 72.3693 },
    "Navsari": { lat: 20.9467, lon: 72.9520 },
    "Morbi": { lat: 22.8119, lon: 70.8236 },
    "Valsad": { lat: 20.5992, lon: 72.9342 },
    "Porbandar": { lat: 21.6417, lon: 69.6293 },
    //Major cities in Maharashtra
    "Pune": { lat: 18.5204, lon: 73.8567 },
    "Nagpur": { lat: 21.1458, lon: 79.0882 },
    "Thane": { lat: 19.2183, lon: 72.9781 },
    "Nashik": { lat: 19.9975, lon: 73.7898 },
    "Aurangabad": { lat: 19.8762, lon: 75.3433 },
    "Solapur": { lat: 17.6599, lon: 75.9064 },
    "Amravati": { lat: 20.9374, lon: 77.7796 },
    "Kolhapur": { lat: 16.7050, lon: 74.2433 },
    "Sangli": { lat: 16.8524, lon: 74.5815 },
    "Jalgaon": { lat: 21.0077, lon: 75.5626 },
    "Akola": { lat: 20.7074, lon: 77.0028 },
    "Latur": { lat: 18.4088, lon: 76.5604 },
    "Ahmednagar": { lat: 19.0948, lon: 74.7480 },
    "Chandrapur": { lat: 19.9615, lon: 79.2961 },
    "Nanded": { lat: 19.1383, lon: 77.3210 },
    "Ratnagiri": { lat: 16.9902, lon: 73.3120 },
    "Dhule": { lat: 20.9042, lon: 74.7749 },
    "Beed": { lat: 18.9878, lon: 75.7600 },
    "Parbhani": { lat: 19.2685, lon: 76.7708 },
    //Major cities in Rajasthan
    "Jodhpur": { lat: 26.2389, lon: 73.0243 },
    "Udaipur": { lat: 24.5854, lon: 73.7125 },
    "Kota": { lat: 25.2138, lon: 75.8648 },
    "Bikaner": { lat: 28.0229, lon: 73.3119 },
    "Ajmer": { lat: 26.4499, lon: 74.6399 },
    "Bhilwara": { lat: 25.3478, lon: 74.6408 },
    "Alwar": { lat: 27.5535, lon: 76.6346 },
    "Sikar": { lat: 27.6094, lon: 75.1399 },
    "Barmer": { lat: 25.7523, lon: 71.3989 },
    "Chittorgarh": { lat: 24.8887, lon: 74.6269 },
    "Banswara": { lat: 23.5461, lon: 74.4346 },
    "Jhunjhunu": { lat: 28.1289, lon: 75.3992 },
    "Tonk": { lat: 26.1664, lon: 75.7894 },
    "Nagaur": { lat: 27.2020, lon: 73.7333 },
    //Major cities in MP
    "Bhopal": { lat: 23.2599, lon: 77.4126 },
    "Indore": { lat: 22.7196, lon: 75.8577 },
    "Gwalior": { lat: 26.2183, lon: 78.1828 },
    "Jabalpur": { lat: 23.1815, lon: 79.9864 },
    "Ujjain": { lat: 23.1765, lon: 75.7885 },
    "Sagar": { lat: 23.8388, lon: 78.7378 },
    "Ratlam": { lat: 23.3342, lon: 75.0374 },
    "Rewa": { lat: 24.5362, lon: 81.3041 },
    "Satna": { lat: 24.5822, lon: 80.8245 },
    "Dewas": { lat: 22.9623, lon: 76.0508 },
    "Chhindwara": { lat: 22.0574, lon: 78.9382 },
    "Morena": { lat: 26.4980, lon: 77.9941 },
    "Khandwa": { lat: 21.8258, lon: 76.3526 },
    "Vidisha": { lat: 23.5251, lon: 77.8131 },
    "Shivpuri": { lat: 25.4232, lon: 77.6626 },
    "Neemuch": { lat: 24.4737, lon: 74.8726 },
    "Mandsaur": { lat: 24.0713, lon: 75.0693 },
    "Hoshangabad": { lat: 22.7441, lon: 77.7369 },
    "Sehore": { lat: 23.1997, lon: 77.0822 },
    "Balaghat": { lat: 21.8142, lon: 80.1849 },
    //Major citis in Kerela 100% litercy sarr
    "Thiruvananthapuram": { lat: 8.5241, lon: 76.9366 },
    "Kochi": { lat: 9.9312, lon: 76.2673 },
    "Kozhikode": { lat: 11.2588, lon: 75.7804 },
    "Thrissur": { lat: 10.5276, lon: 76.2144 },
    "Kollam": { lat: 8.8932, lon: 76.6141 },
    "Palakkad": { lat: 10.7867, lon: 76.6548 },
    "Alappuzha": { lat: 9.4981, lon: 76.3388 },
    "Kannur": { lat: 11.8745, lon: 75.3704 },
    "Kottayam": { lat: 9.5916, lon: 76.5222 },
    "Malappuram": { lat: 11.0736, lon: 76.0743 },
    "Pathanamthitta": { lat: 9.2644, lon: 76.7870 },
    "Idukki": { lat: 9.8490, lon: 76.9852 },
    "Wayanad": { lat: 11.6854, lon: 76.1320 },
    "Kasargod": { lat: 12.5000, lon: 74.9860 },
    //Major cities in Tamilnadu, No Hindi sarrðŸ¤¡
    "Coimbatore": { lat: 11.0168, lon: 76.9558 },
    "Madurai": { lat: 9.9252, lon: 78.1198 },
    "Tiruchirappalli": { lat: 10.7905, lon: 78.7047 },
    "Salem": { lat: 11.6643, lon: 78.1460 },
    "Tirunelveli": { lat: 8.7139, lon: 77.7567 },
    "Erode": { lat: 11.3410, lon: 77.7172 },
    "Vellore": { lat: 12.9165, lon: 79.1325 },
    "Thoothukudi": { lat: 8.7642, lon: 78.1348 },
    "Dindigul": { lat: 10.3673, lon: 77.9803 },
    "Thanjavur": { lat: 10.7867, lon: 79.1378 },
    "Kanchipuram": { lat: 12.8342, lon: 79.7036 },
    "Nagapattinam": { lat: 10.7662, lon: 79.8335 },
    "Cuddalore": { lat: 11.7447, lon: 79.7680 },
    "Kanyakumari": { lat: 8.0883, lon: 77.5385 },
    //Major cities in Karnataka
     "Bengaluru": { lat: 12.9716, lon: 77.5946 },
    "Mysuru": { lat: 12.2958, lon: 76.6394 },
    "Mangaluru": { lat: 12.9141, lon: 74.8560 },
    "Hubballi": { lat: 15.3647, lon: 75.1240 },
    "Belagavi": { lat: 15.8497, lon: 74.4977 },
    "Dharwad": { lat: 15.4589, lon: 75.0078 },
    "Shivamogga": { lat: 13.9299, lon: 75.5681 },
    "Ballari": { lat: 15.1394, lon: 76.9214 },
    "Davangere": { lat: 14.4644, lon: 75.9210 },
    "Tumakuru": { lat: 13.3381, lon: 77.1010 },
    "Udupi": { lat: 13.3409, lon: 74.7421 },
    "Raichur": { lat: 16.2076, lon: 77.3463 },
    "Hassan": { lat: 13.0068, lon: 76.0996 },
    "Bidar": { lat: 17.9107, lon: 77.5199 },
    "Chitradurga": { lat: 14.2251, lon: 76.3980 },
    //Major cities in West Bengla(ladesh)
    "Kolkata": { lat: 22.5726, lon: 88.3639 },
    "Howrah": { lat: 22.5958, lon: 88.2636 },
    "Durgapur": { lat: 23.5204, lon: 87.3119 },
    "Asansol": { lat: 23.6739, lon: 86.9524 },
    "Siliguri": { lat: 26.7271, lon: 88.3953 },
    "Malda": { lat: 25.0108, lon: 88.1411 },
    "Kharagpur": { lat: 22.3460, lon: 87.2319 },
    "Haldia": { lat: 22.0667, lon: 88.0698 },
    "Bardhaman": { lat: 23.2324, lon: 87.8615 },
    "Jalpaiguri": { lat: 26.5167, lon: 88.7333 },



    //small-!capital!
    "new York": { lat: 40.7128, lon: -74.0060 },
    "los Angeles": { lat: 34.0522, lon: -118.2437 },
    "chicago": { lat: 41.8781, lon: -87.6298 }, 
    "houston": { lat: 29.7604, lon: -95.3698 },
    "london": { lat: 51.5074, lon: -0.1278 },
    "paris": { lat: 48.8566, lon: 2.3522 },
    "berlin": { lat: 52.5200, lon: 13.4050 },
    "madrid": { lat: 40.4168, lon: -3.7038 },
    "rome": { lat: 41.9028, lon: 12.4964 },
    "tokyo": { lat: 35.6895, lon: 139.6917 },
    "seoul": { lat: 37.5665, lon: 126.9780 },
    "shanghai": { lat: 31.2304, lon: 121.4737 },
    "beijing": { lat: 39.9042, lon: 116.4074 },
    "sydney": { lat: -33.8688, lon: 151.2093 },
    "toronto": { lat: 43.651070, lon: -79.347015 },
    "dubai": { lat: 25.276987, lon: 55.296249 },
    "moscow": { lat: 55.7558, lon: 37.6173 },
    "mumbai": { lat: 19.0760, lon: 72.8777 },
    "delhi": { lat: 28.6139, lon: 77.2090 },
    "singapore": { lat: 1.3521, lon: 103.8198 },
    "bangkok": { lat: 13.7563, lon: 100.5018 },
    "istanbul": { lat: 41.0082, lon: 28.9784 },
    "mexico City": { lat: 19.4326, lon: -99.1332 },
    "buenos Aires": { lat: -34.6037, lon: -58.3816 },
    "cairo": { lat: 30.0444, lon: 31.2357 },
    "cape Town": { lat: -33.9249, lon: 18.4241 },
    "wellington": {lat: -41.2865,lon: 174.7762},
    //Major Indian cities
    "bangalore": { lat: 12.9716, lon: 77.5946 },
    "chennai": { lat: 13.0827, lon: 80.2707 },
    "kolkata": { lat: 22.5726, lon: 88.3639 },
    "hyderabad": { lat: 17.3850, lon: 78.4867 },
    "pune": { lat: 18.5204, lon: 73.8567 },
    "ahmedabad": { lat: 23.0225, lon: 72.5714 },
    "jaipur": { lat: 26.9124, lon: 75.7873 },
    "lucknow": { lat: 26.8467, lon: 80.9462 },
    // Major cities in China
    "beijing": { lat: 39.9042, lon: 116.4074 },
    "shanghai": { lat: 31.2304, lon: 121.4737 },
    "guangzhou": { lat: 23.1291, lon: 113.2644 },
    "shenzhen": { lat: 22.5431, lon: 114.0579 },
    "chengdu": { lat: 30.5728, lon: 104.0668 },
    "wuhan": { lat: 30.5928, lon: 114.3055 },
    "chongqing": { lat: 29.4316, lon: 106.9123 },
    "tianjin": { lat: 39.3434, lon: 117.3616 },
    "nanjing": { lat: 32.0603, lon: 118.7969 },
    "hangzhou": { lat: 30.2741, lon: 120.1551 },
    //Major cities in Gujarat
    "surat": { lat: 21.1702, lon: 72.8311 },
    "vadodara": { lat: 22.3072, lon: 73.1812 },
    "rajkot": { lat: 22.3039, lon: 70.8022 },
    "bhavnagar": { lat: 21.7645, lon: 72.1519 },
    "jamnagar": { lat: 22.4707, lon: 70.0577 },
    "gandhinagar": { lat: 23.2156, lon: 72.6369 },
    "junagadh": { lat: 21.5222, lon: 70.4579 },
    "anand": { lat: 22.5645, lon: 72.9289 },
    "bharuch": { lat: 21.7051, lon: 72.9959 },
    "mehsana": { lat: 23.5879, lon: 72.3693 },
    "navsari": { lat: 20.9467, lon: 72.9520 },
    "morbi": { lat: 22.8119, lon: 70.8236 },
    "valsad": { lat: 20.5992, lon: 72.9342 },
    "porbandar": { lat: 21.6417, lon: 69.6293 }
};




document.getElementById("button").addEventListener("click", () => {
    const city = document.getElementById("search").value.trim();  

    if (cityCoordinates[city]) {
        const { lat, lon } = cityCoordinates[city];

        // Fetch weather data
        fetch(`https://api.open-meteo.com/v1/forecast?latitude=${lat}&longitude=${lon}&current_weather=true`)
            .then(response => response.json())
            .then(data => {
                console.log("Weather Data:", data);
                
                const temperature = data.current_weather.temperature;
                const weatherCode = data.current_weather.weathercode;  

                document.getElementById("des").innerHTML = `${temperature}Â°C`;  

                const iconClass = getWeatherIcon(weatherCode, temperature);
                const weatherCondition = getWeatherDescription(weatherCode);

              
                document.getElementById("temp").innerHTML = `<i class="${iconClass}"></i>`;

             
                document.querySelector(".all-summary").innerHTML = 
                    `According to Open-Meteo, the weather in <strong>${city}</strong> will be around  <strong>${temperature}Â°C</strong>.`;
            })
            .catch(error => console.error("Error fetching weather data:", error));
    } else {
        alert("City data currently unavailable.");
    }
});


function getWeatherIcon(weatherCode, temperature) {
    if (weatherCode >= 95) return "fa-solid fa-cloud-bolt"; 
    if (weatherCode >= 80) return "fa-solid fa-cloud-showers-heavy"; 
    if (weatherCode >= 60) return "fa-solid fa-cloud-rain"; 
    if (weatherCode >= 51) return "fa-solid fa-cloud-sun-rain";
    if (weatherCode >= 45) return "fa-solid fa-smog"; 
    if (weatherCode >= 40) return "fa-solid fa-cloud"; 
    if (weatherCode >= 30) return "fa-solid fa-snowflake"; 
    if (weatherCode >= 20) return "fa-solid fa-wind"; 
    
    
    if (temperature >= 30) return "fa-solid fa-sun"; 
    if (temperature >= 20) return "fa-solid fa-cloud-sun"; 
    if (temperature >= 10) return "fa-solid fa-cloud-sun"; 
    return "fa-solid fa-snowflake"; 
}


function getWeatherDescription(weatherCode) {
    if (weatherCode >= 95) return "stormy with thunderstorms â›ˆï¸";
    if (weatherCode >= 80) return "rainy ðŸŒ§ï¸";
    if (weatherCode >= 60) return "light rain ðŸŒ¦ï¸";
    if (weatherCode >= 51) return "drizzly ðŸŒ¦ï¸";
    if (weatherCode >= 45) return "foggy ðŸŒ«ï¸";
    if (weatherCode >= 40) return "cloudy â˜ï¸";
    if (weatherCode >= 30) return "snowy â„ï¸";
    if (weatherCode >= 20) return "windy ðŸ’¨";
    return "Clear"
}

document.getElementById("icon-c").addEventListener("click", () => {
    const url = window.location.href; // Get current page URL

    navigator.clipboard.writeText(url).then(() => {
        alert("ðŸ”— Link copied to clipboard!");
    }).catch(err => {
        console.error("Failed to copy:", err);
    });
});

</script>


</html>
